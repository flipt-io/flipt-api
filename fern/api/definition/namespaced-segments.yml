# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  segments: segments.yml
  constraints: constraints.yml

service:
  base-path: /api/v1/namespaces/{namespaceKey}/segments
  path-parameters:
    namespaceKey: string
  auth: true
  endpoints:
    list:
      path: ""
      method: GET
      response: segments.segmentList
      request:
        name: namespacedSegmentListRequest
        query-parameters:
          limit: optional<integer>
          offset: optional<integer>
          pageToken: optional<string>

    create:
      path: ""
      method: POST
      request:
        name: namespacedSegmentCreateRequest
        body:
          properties:
            key: string
            name: string
            description: string
            matchType: segments.segmentMatchType
      response: segments.segment

    get:
      path: /{key}
      method: GET
      path-parameters:
        key: string
      response: segments.segment

    delete:
      path: /{key}
      method: DELETE
      path-parameters:
        key: string

    update:
      path: /{key}
      method: PUT
      path-parameters:
        key: string
      request:
        name: namespacedSegmentUpdateRequest
        body:
          properties:
            name: string
            description: string
            matchType: segments.segmentMatchType
      response: segments.segment
